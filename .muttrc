#source /etc/Muttrc.gpg.dist

set mbox_type=Maildir
set folder=/mnt/Docs/Mail/inbox
set mbox=+mbox
set spoolfile=+
set postponed=+drafts
set header_cache=/mnt/Docs/Mail/.hcache
mailboxes +inbox
set sendmail="/usr/bin/msmtp"
set signature="~/.signature"
set from=trapd00r@trapd00r.se
set query_command = "abook --mutt-query '%s'"
set sort=threads
macro generic,index,pager A "<shell-escape>abook<return>" "launch abook"
macro index,pager a "<pipe-message>abook --add-email<return>" "add the sender address to abook"

hdr_order From: Date: To: Cc: Subject:
set editor="vim +':set textwidth=77' +':set wrap :set ft=perl' +\`awk '/^$/ {print i+2; exit} {i++}' %s\` %s" 
mailboxes `echo /mnt/Docs/Mail/*`

macro index .. "c=\n" "Go to inbox"

# normal text     FG            BG
 color normal     white		      default 
# message 
 color indicator  yellow        default 
# thread arrows
 color tree       brightmagenta default 
# status line
 color status     green         default 
 color error      brightred     default 
# info msg
 color message    green         default 
 color signature  green         default
 color attachment black         yellow     
# search match
 color search     brightyellow  red
 color tilde      brightmagenta default 
# + at wrap
 color markers    yellow        default 
# headers
 color hdrdefault green         default 
 color bold       yellow        default 
 color underline  yellow        default 
 color quoted     green         default 
 color quoted1    brightcyan    default
 color quoted2    brightblue    default
 color quoted3    green         default
 color quoted4    cyan          default
 color quoted5    magenta       default
 color quoted6    magenta       default
 color quoted7    red           default
 color quoted8    green         default
 color quoted9    cyan          default
 color body       brightblue    default  "((ftp|http|https)://|news:)[^ >)\"\t]+"
 color body       yellow        default  "[-a-z_0-9.+]+@[-a-z_0-9.]+"
 color body       green         default  "(^| )\\*[-a-z0-9*]+\\*[,.?]?[ \n]"
 color body       green         default  "(^| )_[-a-z0-9_]+_[,.?]?[\n]"
 color body       red           default  "(^| )\\*[-a-z0-9*]+\\*[,.?]?[ \n]"
 color body       green         default  "(^| )_[-a-z0-9_]+_[,.?]?[ \n]"
# flagged
 color index      cyan          default  ~F        
# new
 color index      cyan          default  ~N
# tagged
 color index      blue          default  ~T         
# deleted
 color index      green         default  ~D  

set move=no
bind pager k previous-line
bind pager < previous-line
bind pager j next-line
bind pager > next-line
bind pager down next-page
bind pager up previous-page
# dual window view in mutt
#set pager_index_lines=10

# Similar settings for the index
bind index [ previous-line
bind index ] next-line

set index_format   = "%4C %Z %{%b %d} %-15.15F (%4l) %s"
set forward_format="Fw: %s"     # subject in forwarded messages
set date_format="%d/%m/%y %H:%M %Z"
set quote_regexp="^([A-Za-z ]+>|[]%>:|}-][]>:|}-]*)"
#set reply_regexp="^(re([\\[0-9\\]+])*|aw):[ \t]*"
set reply_regexp='^((re(\[[0-9]+\])?: *)?(\[[^]]+\] *)?)*'
set edit_headers
set text_flowed
set record="=sent-mail"
set reply_to=yes
set mbox="=received"

folder-hook . "push \"l!(~s 'FOLDER INTERNAL DATA')\n*\""

# Ignore all headers
 ignore *

## Then un-ignore the ones I want to see
 unignore From:
 unignore To:
# unignore Reply-To:
# unignore Mail-Followup-To:
# unignore Subject:
 unignore Date:
# unignore Organization:
# unignore Newsgroups:
# unignore CC:
# unignore BCC:
# unignore Message-ID:
# unignore X-Mailer:
# unignore User-Agent:
# unignore X-Junked-Because:
# unignore X-SpamProbe:
# unignore X-Virus-hagbard:

# # Now order the visable header lines
 hdr_order From: Subject: To: CC: BCC: Reply-To: Mail-Followup-To: Date: Organization: User-Agent: X-Mailer:
  
